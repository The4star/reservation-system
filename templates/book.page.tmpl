{{template "base" .}}
{{define "content"}}
<div class="container">
  <div class="row">
    <div class="col-md-3"></div>
    <div class="col-md-6">
      <h1 class="mt-5">Make a reservation</h1>
      {{$reservation := index .Data "reservation" }}
      <form action="/book" method="POST" class="reservation-form needs-validation" novalidate>
        <div class="form-group mt-5 mb-3">
          <input type="hidden" name="csrf_token" value={{.CSRFToken}}>
          <label for="first-name">First Name:</label>
          {{ with .Form.Errors.Get "first-name" }}
            <label class="text-danger">{{.}}</label>
          {{end}}
          <input 
            class="form-control {{ with .Form.Errors.Get "first-name" }} is-invalid {{end}}" 
            type="text"
            name="first-name" 
            id="first-name" 
            required 
            autocomplete="off"
            value="{{$reservation.FirstName}}"
          >
        </div>
        <div class="form-group mb-3">
          <label for="last-name">Last Name:</label>
          {{ with .Form.Errors.Get "last-name" }}
            <label class="text-danger">{{.}}</label>
          {{end}}
          <input 
            class="form-control {{ with .Form.Errors.Get "last-name" }} is-invalid {{end}}" 
            type="text" 
            name="last-name" 
            id="last-name" 
            required autocomplete="off"
            value="{{$reservation.LastName}}"
          >
        </div>
        <div class="form-group mb-3">
          <label for="email">Email:</label>
          {{ with .Form.Errors.Get "email" }}
            <label class="text-danger">{{.}}</label>
          {{end}}
          <input 
            class="form-control {{ with .Form.Errors.Get "email" }} is-invalid {{end}}" 
            type="email" 
            name="email" 
            id="email" 
            required 
            autocomplete="off"
            value="{{$reservation.Email}}"
          >
        </div>
        <div class="form-group mb-3">
          <label for="address">Phone Number:</label>
          {{ with .Form.Errors.Get "phone" }}
            <label class="text-danger">{{.}}</label>
          {{end}}
          <input 
            class="form-control {{ with .Form.Errors.Get "phone" }} is-invalid {{end}}" 
            type="text" 
            name="phone" 
            id="phone" 
            required autocomplete="off"
            value="{{$reservation.Phone}}"
          >
        </div>
        <div class="row" id="reservation-dates">
          <div class="col">
            <div class="mb-3">
              <input required type="text" class="form-control" id="start-date" name="start-date" autocomplete="off"
                placeholder="Arrival">
            </div>
          </div>
          <div class="col">
            <div class="mb-3">
              <input required type="text" class="form-control" id="end-date" name="end-date" autocomplete="off"
                placeholder="Departure">
            </div>
          </div>
        </div>
        <input type="hidden" name="room-id" value="3">
        <button type="submit" class="btn btn-primary">Make Reservation</button>
      </form>
    </div>
  </div>
</div>
{{end}}

{{define "js"}}
<script src="https://cdn.jsdelivr.net/npm/vanillajs-datepicker@1.1.4/dist/js/datepicker-full.min.js"></script>
<script src="/static/scripts/book.js" type="module"></script>
{{end}}